/* ==========================================================================
   CUSTOM DESIGN SYSTEM
   Warm, literary aesthetic inspired by Robin Sloan + Kieran Healy
   ========================================================================== */

// Import Google Fonts - Friendly sans for body + crisp sans for headings
@import url('https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@400;500;600&family=Inter:wght@400;500;600&display=swap');

// Custom Color Palette - Warm, muted, understated (Substack-inspired)
:root {
  --cosmic-latte: #F6F2EB;           // Warm cream background
  --warm-white: #FFFCF7;             // Soft paper white
  --warm-gray: #4A4F55;              // Muted text color
  --dark-text: #22201B;              // Main text color
  --ink-blue: #2D4D5F;               // Dusky ink blue accent (WCAG AA)
  --sage: #6A7B63;                   // Muted green accent (WCAG AA)
  --slate-blue: #3F5B72;             // Desaturated blue for hovers (WCAG AA)
  --soft-border: #E3DED3;            // Subtle borders
  --link-color: #2D4D5F;             // Quiet link color
  --link-hover: #1F3C52;             // Link hover state
}

$background-color: var(--cosmic-latte);
$body-color: var(--warm-white);
$text-color: var(--dark-text);
$primary-color: var(--ink-blue);
$accent-sage: var(--sage);
$accent-blue: var(--slate-blue);
$border-color: var(--soft-border);

// Typography - Literary, warm, comfortable
body {
  font-family: 'Hanken Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  line-height: 1.7;
  color: var(--dark-text);
  background-color: var(--cosmic-latte);
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  color: var(--dark-text);
  font-weight: 500;
  letter-spacing: -0.02em;
  line-height: 1.3;
}

// Gentle hierarchy - no bold shouting
h1 { font-weight: 600; }
h2 { font-weight: 500; }
h3, h4, h5, h6 { font-weight: 500; }

.post-title {
  font-size: 2.2em;
  margin-bottom: 0.5em;
  font-weight: 500;
}

// Custom Layout - Generous spacing, comfortable reading width
.container {
  max-width: 48rem;
  margin: 0 auto;
  padding: 2rem 1.5rem;
}

// Main content max-width for readability
.page__content {
  max-width: 48rem;
  margin: 0 auto;
}

// Spacing and Layout - Organic, generous
.post {
  max-width: 48rem;
  margin: 0 auto;
  padding: 2.5rem 1.5rem;
  background-color: var(--warm-white);
}

.post-header, .post-footer {
  margin-bottom: 2.5rem;
}

.post-content {
  line-height: 1.7;
  font-size: 1.1em;
}

// Blockquotes - Literary style
blockquote {
  font-family: 'Crimson Text', Georgia, serif;
  font-style: italic;
  font-size: 1.05em;
  border-left: 3px solid var(--sage);
  margin: 2rem 0;
  padding: 0.5rem 1.5rem;
  color: var(--warm-gray);
}

blockquote p {
  margin-bottom: 0.5em;
}

// Links - Subtle, warm
a {
  color: var(--link-color);
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: all 0.2s ease;

  &:hover {
    color: var(--link-hover);
    border-bottom-color: var(--link-hover);
  }

  &:visited {
    color: var(--link-color);
  }
}

// Disable sticky sidebar - keep it static
.sidebar.sticky {
  position: static !important;
}

// Masthead refinements - quieter, intentional nav
.masthead {
  background: transparent;
  border-bottom: 1px solid var(--soft-border);
}

.masthead__inner-wrap {
  padding: 1.25rem 1.5rem;
}

.greedy-nav {
  background: transparent;
  align-items: center;

  a {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    font-size: 0.92rem;
    letter-spacing: 0.01em;
    position: relative;
    margin: 0 0.9rem;
    color: var(--dark-text);

    &:visited {
      color: var(--dark-text);
    }
  }

  .masthead__menu-item--lg a {
    font-weight: 600;
    color: var(--dark-text);
  }

  // Remove default underline on nav items (blue bar handles active state)
  .masthead__menu-item a:after {
    content: none;
  }

  // External link indicator - only for actual external links
  .masthead__menu-item a[href^="http"]:not([href*="bennoble.github.io"]):after {
    content: none;
  }

  // Show indicator only for Textbook (Substack)
  .masthead__menu-item a[href*="understandingamericanpolitics.substack.com"]:after {
    content: " â†—";
    position: static;
    transform: none;
    background: none;
    opacity: 0.5;
    font-size: 0.75em;
    margin-left: 0.15em;
    width: auto;
    height: auto;
  }

  button {
    background: $ink-blue;
  }

  // Ensure nav links have no default underline; active state is handled by the bar
  .masthead__menu-item a,
  .masthead__menu-item a:hover,
  .masthead__menu-item a:focus {
    text-decoration: none;
    border-bottom: 0;
  }
}
